!function(){"use strict";angular.module("brave.navigation",[]).value("version","0.0.4")}(),function(t){"use strict";t.fn.smartCollapseToggle=function(){return this.each(function(){var e=t("body"),a=t(this);e.hasClass("menu-on-top")||(e.hasClass("mobile-view-activated"),a.toggleClass("open"),e.hasClass("minified")?a.closest("nav ul ul").length&&(a.find(">a .collapse-sign .fa").toggleClass("fa-minus-square-o fa-plus-square-o"),a.find("ul:first").slideToggle(window.appConfig.menuSpeed||200)):(a.find(">a .collapse-sign .fa").toggleClass("fa-minus-square-o fa-plus-square-o"),a.find("ul:first").slideToggle(window.appConfig.menuSpeed||200)))})}}(jQuery),function(){"use strict";function t(t,e){function a(){e.get(t.symbol).then(function(e){t.navigation=e})}a()}angular.module("brave.navigation").controller("BraveNavigationController",t),t.$inject=["$scope","BraveNavigationService"]}(),function(){"use strict";angular.module("brave.navigation").directive("braveNavigationCategories",["$rootScope","$compile","BraveNavigationCategories",function(t,e,a){return{restrict:"E",templateUrl:"",scope:{items:"@items"},compile:function(n,i){a.get().then(function(a){function i(t,e,a){var n=$("<li />"),r=$("<a />");$("<i />");if(n.append(r),t.sref){var o;o=t.sref,t.data&&(o+="("+JSON.stringify(t.data)+")"),r.attr("ui-sref",o)}if(t.href&&r.attr("href",t.href),t.title&&(r.attr("title",t.title),1===a?r.append('<span class="menu-item-parent">'+t.title+"</span>"):r.append(" "+t.title)),t.items){var s=$("<ul />");n.append(s),n.attr("data-menu-collapse",""),_.forEach(t.items,function(t){i(t,s,a+1)})}e.append(n)}var r=$("<ul />",{"data-menu":"test"}).addClass("categories-list").addClass("collapsed");_.forEach(a.items,function(t){"undefined"!=typeof t&&i(t,r,1)});var o=t.$new(),s=$("<div>").append(r).html(),l=e(s),u=l(o);n.replaceWith(u)})}}}])}(),function(){"use strict";angular.module("brave.navigation").directive("braveNavigationFront",["$rootScope","$compile","BraveNavigationService",function(t,e,a){return{restrict:"E",scope:{symbol:"@symbol"},compile:function(n,i){a.get(i.symbol).then(function(a){function i(t,e,a){var n=$("<li />",{"ui-sref-active":"active"}),r=$("<a />"),o=$("<i />");if(n.append(r),t.sref){var s;s=t.sref,t.data&&(s+="("+JSON.stringify(t.data)+")"),r.attr("ui-sref",s)}if(t.href&&r.attr("href",t.href),t.icon&&(o.attr("class","fa fa-lg fa-fw fa-"+t.icon),r.append(o)),t.title&&(r.attr("title",t.title),1===a?r.append('<span class="menu-item-parent">'+t.title+"</span>"):r.append(" "+t.title)),t.items){var l=$("<ul />");n.append(l),n.attr("data-menu-collapse",""),_.forEach(t.items,function(t){i(t,l,a+1)})}e.append(n)}var r=$("<ul />",{"smart-menu":""});_.forEach(a.items,function(t){i(t,r,1)});var o=t.$new(),s=$("<div>").append(r).html(),l=e(s),u=l(o);n.replaceWith(u)})}}}])}(),function(){"use strict";angular.module("brave.navigation").directive("braveNavigation",["$rootScope","$compile","BraveNavigationService",function(t,e,a){return{restrict:"E",scope:{symbol:"@symbol"},compile:function(n,i){a.get(i.symbol).then(function(a){function i(t,e,a){var n=$("<li />",{"data-ui-sref-active":"active"}),r=$("<a />"),o=$("<i />");if(n.append(r),t.sref&&r.attr("data-ui-sref",t.sref),t.href&&r.attr("href",t.href),t.icon&&(o.attr("class","fa fa-lg fa-fw fa-"+t.icon),r.append(o)),t.title&&(r.attr("title",t.title),1===a?r.append('<span class="menu-item-parent">'+t.title+"</span>"):r.append(" "+t.title)),t.items){var s=$("<ul />");n.append(s),n.attr("data-menu-collapse",""),_.forEach(t.items,function(t){i(t,s,a+1)})}e.append(n)}var r=$("<ul />",{"smart-menu":""});_.forEach(a.items,function(t){i(t,r,1)});var o=t.$new(),s=$("<div>").append(r).html(),l=e(s),u=l(o);n.replaceWith(u)})}}}])}(),function(){"use strict";angular.module("brave.navigation").directive("smartMenuItems",function(t,e,a){return{restrict:"A",compile:function(n,i){function r(t,e,a){var n=$("<li />",{"ui-sref-active":"active"}),i=$("<a />"),o=$("<i />");if(n.append(i),t.sref&&i.attr("ui-sref",t.sref),t.href&&i.attr("href",t.href),t.icon&&(o.attr("class","fa fa-lg fa-fw fa-"+t.icon),i.append(o)),t.title&&(i.attr("title",t.title),1===a?i.append('<span class="menu-item-parent">'+t.title+"</span>"):i.append(" "+t.title)),t.items){var s=$("<ul />");n.append(s),n.attr("data-menu-collapse",""),_.forEach(t.items,function(t){r(t,s,a+1)})}e.append(n)}t.get(i.smartMenuItems).then(function(t){var i=$("<ul />",{"smart-menu":""});_.forEach(t.data.items,function(t){r(t,i,1)});var o=e.$new(),s=$("<div>").append(i).html(),l=a(s),u=l(o);n.replaceWith(u)})}}})}(),function(){"use strict";angular.module("brave.navigation").directive("smartMenuItems2",function(t,e,a,n,i){return{restrict:"A",compile:function(r,o){function s(t,e,a){var n=$("<li />",{"ui-sref-active":"active"}),i=$("<a />"),r=$("<i />");if(n.append(i),t.sref&&i.attr("ui-sref",t.sref),t.href&&i.attr("href",t.href),t.icon&&(r.attr("class","fa fa-lg fa-fw fa-"+t.icon),i.append(r)),t.title&&(i.attr("title",t.title),1===a?i.append('<span class="menu-item-parent">'+t.title+"</span>"):i.append(" "+t.title)),t.items){var o=$("<ul />");n.append(o),n.attr("data-menu-collapse",""),_.forEach(t.items,function(t){s(t,o,a+1)})}e.append(n)}t({method:"GET",url:n.apiUrl+o.smartMenuItems2,headers:{Authorization:"Token "+i.getAuthenticatedAccount().key}}).then(function(t){var n=$("<ul />",{"smart-menu":""});_.forEach(t.data.items,function(t){s(t,n,1)});var i=e.$new(),o=$("<div>").append(n).html(),l=a(o),u=l(i);r.replaceWith(u)})}}})}(),function(){"use strict";angular.module("brave.navigation").directive("smartMenu",function(t,e,a){return{restrict:"A",link:function(t,n,i){var r=$("body"),o=n.find("li[data-menu-collapse]"),s=function(){o.each(function(t,e){var n=$(e);n.on("click",">a",function(t){n.siblings(".open").smartCollapseToggle(),n.smartCollapseToggle(),!n.hasClass("open")&&n.find("li.active").length>0&&n.addClass("active"),t.preventDefault()}).find(">a").append('<b class="collapse-sign"><em class="fa fa-plus-square-o"></em></b>'),a(function(){n.find("li.active").length&&(n.smartCollapseToggle(),n.find("li.active").parents("li").addClass("active"))})})};s(),n.on("click","a[data-ui-sref]",function(t){$(this).parents("li").addClass("active").each(function(){$(this).siblings("li.open").smartCollapseToggle(),$(this).siblings("li").removeClass("active")}),r.hasClass("mobile-view-activated")&&e.$broadcast("requestToggleMenu")}),t.$on("$smartLayoutMenuOnTop",function(t,e){e&&o.filter(".open").smartCollapseToggle()})}}})}(),function(){"use strict";function t(){var t=function(t){this.title=t.title,this.sref=t.sref,this.icon=t.icon,this.href=t.href,this.data=t.data,"string"!=typeof t.items&&(this.items=t.items)};return t}angular.module("brave.navigation").factory("MenuItem",t),t.$inject=[]}(),function(){"use strict";angular.module("brave.navigation").provider("BraveNavigation",function(){this.apiUrl="/api",this.$get=function(){var t=this.apiUrl;return{getApiUrl:function(){return t}}},this.setApiUrl=function(t){this.apiUrl=t}})}(),function(){"use strict";function t(t,e,a,n){function i(){var a=e.defer(),i="categories";return"undefined"!=typeof r[i]?a.resolve(r[i]):t({method:"GET",url:o+"/products/categories",transformResponse:n}).then(function(t){r[i]=t.data,a.resolve(r[i])},function(t){a.reject(t)}),a.promise}var r={},o=a.getApiUrl(),s={get:i};return s}angular.module("brave.navigation").factory("BraveNavigationCategories",t),t.$inject=["$http","$q","BraveNavigation","CategoriesTransformer"]}(),function(){"use strict";angular.module("brave.navigation").factory("BraveNavigationServiceMock",["$q","MenuItem",function(t,e){var a={items:[new e({title:"Home",sref:"app.home",icon:"home",href:"#"}),new e({title:"Documents",sref:"app.doc.list",icon:"table",href:"#"}),new e({title:"Settings",sref:"app.settings.list",icon:"table",href:"#"})]},n={items:[new e({title:"Some menu item",sref:"app.settings.list",icon:"table",href:"#"})]},i={"default":a,second:n};return i}])}(),function(){"use strict";function t(t,e,a,n){function i(a){var i=e.defer(),s=a;return"undefined"!=typeof r[s]?i.resolve(r[s]):t({method:"GET",url:o+"/navigation/"+a,transformResponse:n}).then(function(t){r[s]=t.data,i.resolve(r[s])},function(t){i.reject(t)}),i.promise}var r={},o=a.getApiUrl(),s={get:i};return s}angular.module("brave.navigation").factory("BraveNavigationService",t),t.$inject=["$http","$q","BraveNavigation","NavigationTransformer"]}(),function(){"use strict";function t(t){return function(e){var a="string"==typeof e?angular.fromJson(e):e,n=[];return a.data.length>0&&(n=_.map(a.data,function(e){if(e.is_visible===!0){var a={};return a.title=e.name,a.sref="productHome.list",a.icon=null,a.data={slug:e.slug},a.href=null,new t(a)}})),{items:n}}}angular.module("brave.navigation").factory("CategoriesTransformer",t),t.$inject=["MenuItem"]}(),function(){"use strict";function t(t){return function(e){var a="string"==typeof e?angular.fromJson(e):e,n=[];return a.items.length>0&&(n=_.map(a.items,function(e){return new t(e)})),{items:n}}}angular.module("brave.navigation").factory("NavigationTransformer",t),t.$inject=["MenuItem"]}();