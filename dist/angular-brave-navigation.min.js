!function(){"use strict";angular.module("ngBraveNavigation",[]).value("version","0.0.2")}(),function(e){"use strict";e.fn.smartCollapseToggle=function(){return this.each(function(){var t=e("body"),a=e(this);t.hasClass("menu-on-top")||(t.hasClass("mobile-view-activated"),a.toggleClass("open"),t.hasClass("minified")?a.closest("nav ul ul").length&&(a.find(">a .collapse-sign .fa").toggleClass("fa-minus-square-o fa-plus-square-o"),a.find("ul:first").slideToggle(window.appConfig.menuSpeed||200)):(a.find(">a .collapse-sign .fa").toggleClass("fa-minus-square-o fa-plus-square-o"),a.find("ul:first").slideToggle(window.appConfig.menuSpeed||200)))})}}(jQuery),function(){"use strict";angular.module("ngBraveNavigation").constant("navigationConfig",{apiUrl:"/api"})}(),function(){"use strict";function e(e,t){function a(){t.get(e.symbol).then(function(t){e.navigation=t})}a()}angular.module("ngBraveNavigation").controller("BraveNavigationController",e),e.$inject=["$scope","BraveNavigationService"]}(),function(){"use strict";angular.module("ngBraveNavigation").directive("braveNavigation",["$rootScope","$compile","BraveNavigationService",function(e,t,a){return{restrict:"E",scope:{symbol:"@symbol"},compile:function(n,i){a.get(i.symbol).then(function(a){function i(e,t,a){var n=$("<li />",{"ui-sref-active":"active"}),r=$("<a />"),s=$("<i />");if(n.append(r),e.sref&&r.attr("ui-sref",e.sref),e.href&&r.attr("href",e.href),e.icon&&(s.attr("class","fa fa-lg fa-fw fa-"+e.icon),r.append(s)),e.title&&(r.attr("title",e.title),1===a?r.append('<span class="menu-item-parent">'+e.title+"</span>"):r.append(" "+e.title)),e.items){var o=$("<ul />");n.append(o),n.attr("data-menu-collapse",""),_.forEach(e.items,function(e){i(e,o,a+1)})}t.append(n)}var r=$("<ul />",{"smart-menu":""});_.forEach(a.items,function(e){i(e,r,1)});var s=e.$new(),o=$("<div>").append(r).html(),l=t(o),u=l(s);n.replaceWith(u)})}}}])}(),function(){"use strict";angular.module("ngBraveNavigation").directive("smartMenuItems",function(e,t,a){return{restrict:"A",compile:function(n,i){function r(e,t,a){var n=$("<li />",{"ui-sref-active":"active"}),i=$("<a />"),s=$("<i />");if(n.append(i),e.sref&&i.attr("ui-sref",e.sref),e.href&&i.attr("href",e.href),e.icon&&(s.attr("class","fa fa-lg fa-fw fa-"+e.icon),i.append(s)),e.title&&(i.attr("title",e.title),1===a?i.append('<span class="menu-item-parent">'+e.title+"</span>"):i.append(" "+e.title)),e.items){var o=$("<ul />");n.append(o),n.attr("data-menu-collapse",""),_.forEach(e.items,function(e){r(e,o,a+1)})}t.append(n)}e.get(i.smartMenuItems).then(function(e){var i=$("<ul />",{"smart-menu":""});_.forEach(e.data.items,function(e){r(e,i,1)});var s=t.$new(),o=$("<div>").append(i).html(),l=a(o),u=l(s);n.replaceWith(u)})}}})}(),function(){"use strict";angular.module("ngBraveNavigation").directive("smartMenuItems2",function(e,t,a,n,i){return{restrict:"A",compile:function(r,s){function o(e,t,a){var n=$("<li />",{"ui-sref-active":"active"}),i=$("<a />"),r=$("<i />");if(n.append(i),e.sref&&i.attr("ui-sref",e.sref),e.href&&i.attr("href",e.href),e.icon&&(r.attr("class","fa fa-lg fa-fw fa-"+e.icon),i.append(r)),e.title&&(i.attr("title",e.title),1===a?i.append('<span class="menu-item-parent">'+e.title+"</span>"):i.append(" "+e.title)),e.items){var s=$("<ul />");n.append(s),n.attr("data-menu-collapse",""),_.forEach(e.items,function(e){o(e,s,a+1)})}t.append(n)}e({method:"GET",url:n.apiUrl+s.smartMenuItems2,headers:{Authorization:"Token "+i.getAuthenticatedAccount().key}}).then(function(e){var n=$("<ul />",{"smart-menu":""});_.forEach(e.data.items,function(e){o(e,n,1)});var i=t.$new(),s=$("<div>").append(n).html(),l=a(s),u=l(i);r.replaceWith(u)})}}})}(),function(){"use strict";angular.module("ngBraveNavigation").directive("smartMenu",function(e,t){return{restrict:"A",link:function(e,a,n){var i=$("body"),r=a.find("li[data-menu-collapse]"),s=function(){r.each(function(e,t){var a=$(t);a.on("click",">a",function(e){a.siblings(".open").smartCollapseToggle(),a.smartCollapseToggle(),!a.hasClass("open")&&a.find("li.active").length>0&&a.addClass("active"),e.preventDefault()}).find(">a").append('<b class="collapse-sign"><em class="fa fa-plus-square-o"></em></b>'),a.find("li.active").length&&(a.smartCollapseToggle(),a.find("li.active").parents("li").addClass("active"))})};s(),a.on("click","a[data-ui-sref]",function(){$(this).parents("li").addClass("active").each(function(){$(this).siblings("li.open").smartCollapseToggle(),$(this).siblings("li").removeClass("active")}),i.hasClass("mobile-view-activated")&&t.$broadcast("requestToggleMenu")}),e.$on("$smartLayoutMenuOnTop",function(e,t){t&&r.filter(".open").smartCollapseToggle()})}}})}(),function(){"use strict";function e(){var e=function(e){this.title=e.title,this.sref=e.sref,this.icon=e.icon,this.href=e.href,"string"!=typeof e.items&&(this.items=e.items)};return e}angular.module("ngBraveNavigation").factory("MenuItem",e),e.$inject=[]}(),function(){"use strict";angular.module("ngBraveNavigation").provider("BraveNavigation",function(){this.apiUrl="/api",this.$get=function(){var e=this.apiUrl;return{getApiUrl:function(){return e}}},this.setApiUrl=function(e){this.apiUrl=e}})}(),function(){"use strict";angular.module("ngBraveNavigation").factory("BraveNavigationServiceMock",["$q","MenuItem",function(e,t){var a={items:[new t({title:"Home",sref:"app.home",icon:"home",href:"#"}),new t({title:"Documents",sref:"app.doc.list",icon:"table",href:"#"}),new t({title:"Settings",sref:"app.settings.list",icon:"table",href:"#"})]},n={items:[new t({title:"Some menu item",sref:"app.settings.list",icon:"table",href:"#"})]},i={"default":a,second:n};return i}])}(),function(){"use strict";function e(e,t,a,n){function i(a){var i=t.defer(),o=a;return"undefined"!=typeof r[o]?i.resolve(r[o]):e({method:"GET",url:s+"/navigation/"+a,transformResponse:n}).then(function(e){r[o]=e.data,i.resolve(r[o])},function(e){i.reject(e)}),i.promise}var r={},s=a.getApiUrl(),o={get:i};return o}angular.module("ngBraveNavigation").factory("BraveNavigationService",e),e.$inject=["$http","$q","BraveNavigation","NavigationTransformer"]}(),function(){"use strict";function e(e){return function(t){var a="string"==typeof t?angular.fromJson(t):t,n=[];return a.items.length>0&&(n=_.map(a.items,function(t){return new e(t)})),{items:n}}}angular.module("ngBraveNavigation").factory("NavigationTransformer",e),e.$inject=["MenuItem"]}();