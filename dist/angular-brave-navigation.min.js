!function(){"use strict";angular.module("ngBraveNavigation",[]).value("version","0.0.2")}(),function(e){"use strict";e.fn.smartCollapseToggle=function(){return this.each(function(){var t=e("body"),n=e(this);t.hasClass("menu-on-top")||(t.hasClass("mobile-view-activated"),n.toggleClass("open"),t.hasClass("minified")?n.closest("nav ul ul").length&&(n.find(">a .collapse-sign .fa").toggleClass("fa-minus-square-o fa-plus-square-o"),n.find("ul:first").slideToggle(window.appConfig.menuSpeed||200)):(n.find(">a .collapse-sign .fa").toggleClass("fa-minus-square-o fa-plus-square-o"),n.find("ul:first").slideToggle(window.appConfig.menuSpeed||200)))})}}(jQuery),function(){"use strict";angular.module("ngBraveNavigation").constant("navigationConfig",{apiUrl:"/api"})}(),function(){"use strict";function e(e,t){function n(){t.get(e.symbol).then(function(t){e.navigation=t})}n()}angular.module("ngBraveNavigation").controller("BraveNavigationController",e),e.$inject=["$scope","BraveNavigationService"]}(),function(){"use strict";angular.module("ngBraveNavigation").directive("braveNavigationFront",["$rootScope","$compile",function(e,t){return{restrict:"E",scope:{items:"@items"},compile:function(e,t){console.log(t)}}}])}(),function(){"use strict";angular.module("ngBraveNavigation").directive("braveNavigation",["$rootScope","$compile","BraveNavigationService",function(e,t,n){return{restrict:"E",scope:{symbol:"@symbol"},compile:function(a,i){n.get(i.symbol).then(function(n){function i(e,t,n){var a=$("<li />",{"ui-sref-active":"active"}),r=$("<a />"),o=$("<i />");if(a.append(r),e.sref&&r.attr("ui-sref",e.sref),e.href&&r.attr("href",e.href),e.icon&&(o.attr("class","fa fa-lg fa-fw fa-"+e.icon),r.append(o)),e.title&&(r.attr("title",e.title),1===n?r.append('<span class="menu-item-parent">'+e.title+"</span>"):r.append(" "+e.title)),e.items){var s=$("<ul />");a.append(s),a.attr("data-menu-collapse",""),_.forEach(e.items,function(e){i(e,s,n+1)})}t.append(a)}var r=$("<ul />",{"smart-menu":""});_.forEach(n.items,function(e){i(e,r,1)});var o=e.$new(),s=$("<div>").append(r).html(),l=t(s),u=l(o);a.replaceWith(u)})}}}])}(),function(){"use strict";angular.module("ngBraveNavigation").directive("smartMenuItems",function(e,t,n){return{restrict:"A",compile:function(a,i){function r(e,t,n){var a=$("<li />",{"ui-sref-active":"active"}),i=$("<a />"),o=$("<i />");if(a.append(i),e.sref&&i.attr("ui-sref",e.sref),e.href&&i.attr("href",e.href),e.icon&&(o.attr("class","fa fa-lg fa-fw fa-"+e.icon),i.append(o)),e.title&&(i.attr("title",e.title),1===n?i.append('<span class="menu-item-parent">'+e.title+"</span>"):i.append(" "+e.title)),e.items){var s=$("<ul />");a.append(s),a.attr("data-menu-collapse",""),_.forEach(e.items,function(e){r(e,s,n+1)})}t.append(a)}e.get(i.smartMenuItems).then(function(e){var i=$("<ul />",{"smart-menu":""});_.forEach(e.data.items,function(e){r(e,i,1)});var o=t.$new(),s=$("<div>").append(i).html(),l=n(s),u=l(o);a.replaceWith(u)})}}})}(),function(){"use strict";angular.module("ngBraveNavigation").directive("smartMenuItems2",function(e,t,n,a,i){return{restrict:"A",compile:function(r,o){function s(e,t,n){var a=$("<li />",{"ui-sref-active":"active"}),i=$("<a />"),r=$("<i />");if(a.append(i),e.sref&&i.attr("ui-sref",e.sref),e.href&&i.attr("href",e.href),e.icon&&(r.attr("class","fa fa-lg fa-fw fa-"+e.icon),i.append(r)),e.title&&(i.attr("title",e.title),1===n?i.append('<span class="menu-item-parent">'+e.title+"</span>"):i.append(" "+e.title)),e.items){var o=$("<ul />");a.append(o),a.attr("data-menu-collapse",""),_.forEach(e.items,function(e){s(e,o,n+1)})}t.append(a)}e({method:"GET",url:a.apiUrl+o.smartMenuItems2,headers:{Authorization:"Token "+i.getAuthenticatedAccount().key}}).then(function(e){var a=$("<ul />",{"smart-menu":""});_.forEach(e.data.items,function(e){s(e,a,1)});var i=t.$new(),o=$("<div>").append(a).html(),l=n(o),u=l(i);r.replaceWith(u)})}}})}(),function(){"use strict";angular.module("ngBraveNavigation").directive("smartMenu",function(e,t){return{restrict:"A",link:function(e,n,a){var i=$("body"),r=n.find("li[data-menu-collapse]"),o=function(){r.each(function(e,t){var n=$(t);n.on("click",">a",function(e){n.siblings(".open").smartCollapseToggle(),n.smartCollapseToggle(),!n.hasClass("open")&&n.find("li.active").length>0&&n.addClass("active"),e.preventDefault()}).find(">a").append('<b class="collapse-sign"><em class="fa fa-plus-square-o"></em></b>'),n.find("li.active").length&&(n.smartCollapseToggle(),n.find("li.active").parents("li").addClass("active"))})};o(),n.on("click","a[data-ui-sref]",function(){$(this).parents("li").addClass("active").each(function(){$(this).siblings("li.open").smartCollapseToggle(),$(this).siblings("li").removeClass("active")}),i.hasClass("mobile-view-activated")&&t.$broadcast("requestToggleMenu")}),e.$on("$smartLayoutMenuOnTop",function(e,t){t&&r.filter(".open").smartCollapseToggle()})}}})}(),function(){"use strict";function e(){var e=function(e){this.title=e.title,this.sref=e.sref,this.icon=e.icon,this.href=e.href,"string"!=typeof e.items&&(this.items=e.items)};return e}angular.module("ngBraveNavigation").factory("MenuItem",e),e.$inject=[]}(),function(){"use strict";angular.module("ngBraveNavigation").provider("BraveNavigation",function(){this.apiUrl="/api",this.$get=function(){var e=this.apiUrl;return{getApiUrl:function(){return e}}},this.setApiUrl=function(e){this.apiUrl=e}})}(),function(){"use strict";function e(e,t,n,a){function i(){var n=t.defer(),i="categories";return"undefined"!=typeof r[i]?n.resolve(r[i]):e({method:"GET",url:o+"/products/categories/",transformResponse:a}).then(function(e){r[i]=e.data,n.resolve(r[i])},function(e){n.reject(e)}),n.promise}var r={},o=n.getApiUrl(),s={get:i};return s}angular.module("ngBraveNavigation").factory("BraveNavigationServiceCategories",e),e.$inject=["$http","$q","BraveNavigation","NavigationTransformer"]}(),function(){"use strict";angular.module("ngBraveNavigation").factory("BraveNavigationServiceMock",["$q","MenuItem",function(e,t){var n={items:[new t({title:"Home",sref:"app.home",icon:"home",href:"#"}),new t({title:"Documents",sref:"app.doc.list",icon:"table",href:"#"}),new t({title:"Settings",sref:"app.settings.list",icon:"table",href:"#"})]},a={items:[new t({title:"Some menu item",sref:"app.settings.list",icon:"table",href:"#"})]},i={"default":n,second:a};return i}])}(),function(){"use strict";function e(e,t,n,a){function i(n){var i=t.defer(),s=n;return"undefined"!=typeof r[s]?i.resolve(r[s]):e({method:"GET",url:o+"/navigation/"+n,transformResponse:a}).then(function(e){r[s]=e.data,i.resolve(r[s])},function(e){i.reject(e)}),i.promise}var r={},o=n.getApiUrl(),s={get:i};return s}angular.module("ngBraveNavigation").factory("BraveNavigationService",e),e.$inject=["$http","$q","BraveNavigation","NavigationTransformer"]}(),function(){"use strict";function e(e){return function(t){var n="string"==typeof t?angular.fromJson(t):t,a=[];return n.items.length>0&&(a=_.map(n.items,function(t){return new e(t)})),{items:a}}}angular.module("ngBraveNavigation").factory("NavigationTransformer",e),e.$inject=["MenuItem"]}();